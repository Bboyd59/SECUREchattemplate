:root {
  --color-bg: rgba(2, 4, 12, 0.5);
  --color-card: rgba(30, 41, 59, 0.8);
  --color-text: #e2e8f0;
  --color-input: rgba(51, 65, 85, 0.6);
  --color-button: #3b82f6;
  --color-user-message: rgba(37, 99, 235, 0.6);
  --color-assistant-message: rgba(71, 85, 105, 0.6);
}

@property --angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

* { 
  box-sizing: border-box; 
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', sans-serif;
  background-image: url("https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1973&q=80");
  background-position: center center;
  background-size: cover;
  background-attachment: fixed;
  color: var(--color-text);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem;
  -webkit-font-smoothing: antialiased;
}

.container {
  width: 100%;
  max-width: 1000px;
  height: 80vh;
  background: linear-gradient(to right top, rgba(49, 49, 49, 0.7), rgba(239, 239, 239, 0.3));
  backdrop-filter: blur(12px);
  border: 1px solid rgba(240, 240, 240, 0.1);
  border-radius: 24px;
  overflow: hidden;
}

.card {
  background-color: var(--color-card);
  border-radius: 1rem;
  padding: 2rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

h1 {
  font-weight: 700;
  font-size: 3rem;
  margin: 0 0 2rem 0;
  background: linear-gradient(45deg, #4a90e2, #50c878, #f0e68c);
  background-size: 300% 300%;
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
  animation: gradient 5s ease infinite;
  text-align: center;
}

@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

input {
  width: 100%;
  padding: 0.75rem 1rem;
  margin-bottom: 1rem;
  border: none;
  border-radius: 0.5rem;
  font-size: 1rem;
  background-color: var(--color-input);
  color: var(--color-text);
}

input::placeholder {
  color: #94a3b8;
}

.shiny-cta {
  --button-bg: oklch(59% 56% 259deg);
  --button-shine: white;
  background-image: 
      linear-gradient(var(--button-bg), var(--button-bg)),
      conic-gradient(
          from var(--angle),
          var(--button-bg),
          var(--button-shine) 10%,
          var(--button-bg) 20%
      );
  background-position: center;
  background-size: 100% 100%, 200% 200%;
  background-clip: padding-box, border-box;
  border: 2px solid transparent;
  border-radius: 12px;
  color: white;
  padding: 1rem 2rem;
  font-size: 1.125rem;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  width: 100%;
  margin-top: 1rem;
  animation: rotate 3s linear infinite;
  display: flex;
  justify-content: center;
  align-items: center;
}

.shiny-cta span {
  position: relative;
  z-index: 1;
  text-align: center;
}

@keyframes rotate {
  to {
      --angle: 360deg;
  }
}

#registration, #chatInterface {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  overflow: hidden;
}

#chatInterface {
  display: none;
}

.chat-container {
  flex-grow: 1;
  overflow-y: auto;
  margin-bottom: 1rem;
  padding: 1rem;
  background-color: var(--color-card);
  border-radius: 0.5rem;
}

.message {
  margin-bottom: 1rem;
  padding: 1rem;
  border-radius: 0.5rem;
  max-width: 80%;
}

.user-message {
  background-color: var(--color-user-message);
  align-self: flex-end;
  margin-left: auto;
}

.assistant-message {
  background-color: var(--color-assistant-message);
  align-self: flex-start;
}

.assistant-message p {
  margin-bottom: 0.75rem;
}

.assistant-message ul, .assistant-message ol {
  margin-left: 1.5rem;
  margin-bottom: 0.75rem;
}

.assistant-message li {
  margin-bottom: 0.5rem;
}

.disclaimer {
  font-size: 0.8rem;
  text-align: center;
  margin-top: 1rem;
  padding: 1rem;
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 0.5rem;
}

.contact-info {
  font-size: 0.9rem;
  text-align: center;
  margin-top: 1rem;
}

.loading {
  display: none;
  text-align: center;
  padding: 10px;
  font-style: italic;
  color: #a0aec0;
}

.loading:after {
  content: '.';
  animation: dots 1s steps(5, end) infinite;
}

.input-area {
  position: relative;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: auto;
  background-color: var(--color-card);
  padding: 0.5rem;
}

.input-area input {
  flex-grow: 1;
  margin-bottom: 0;
  background-color: var(--color-input);
  color: var(--color-text);
  transition: padding 0.3s ease;
}

.input-area .shiny-cta {
  width: auto;
  margin-top: 0;
  padding: 0.75rem 1rem;
  font-size: 0.9rem;
  min-width: 60px;
}

.voice-input {
  background: none;
  border: none;
  color: var(--color-text);
  cursor: pointer;
  padding: 0.5rem;
}

.voice-input svg {
  width: 24px;
  height: 24px;
}

.voice-input:hover {
  color: var(--color-button);
}

.voice-input.recording {
  color: #ff4136;
}

/* Audio wave styles */
.sound-wave {
  position: absolute;
  left: 10px;
  right: 70px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  background-color: var(--color-input);
  border-radius: 0.5rem;
}

.sound-wave .bar {
  animation-name: wave-lg;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
  animation-direction: alternate;
  background: var(--color-button);
  margin: 0 2px;
  height: 6px;
  width: 6px;
  border-radius: 50%;
}

.sound-wave .bar:nth-child(-n + 3),
.sound-wave .bar:nth-last-child(-n + 3) {
  animation-name: wave-sm;
}

.sound-wave .bar:nth-child(-n + 2),
.sound-wave .bar:nth-last-child(-n + 2) {
  animation-name: wave-md;
}

@keyframes wave-sm {
  0% { transform: scaleY(0.5); }
  100% { transform: scaleY(1); }
}

@keyframes wave-md {
  0% { transform: scaleY(0.8); }
  100% { transform: scaleY(1.5); }
}

@keyframes wave-lg {
  0% { transform: scaleY(1); }
  100% { transform: scaleY(2); }
}

/* Loading animation styles */
.loading-animation {
  position: absolute;
  left: 10px;
  right: 70px;
  height: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none;
  background-color: var(--color-input);
  border-radius: 0.5rem;
}

.spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: var(--color-button);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes dots {
  0%, 20% {
      color: rgba(0,0,0,0);
      text-shadow:
          .25em 0 0 rgba(0,0,0,0),
          .5em 0 0 rgba(0,0,0,0);
  }
  40% {
      color: #a0aec0;
      text-shadow:
          .25em 0 0 rgba(0,0,0,0),
          .5em 0 0 rgba(0,0,0,0);
  }
  60% {
      text-shadow:
          .25em 0 0 #a0aec0,
          .5em 0 0 rgba(0,0,0,0);
  }
  80%, 100% {
      text-shadow:
          .25em 0 0 #a0aec0,
          .5em 0 0 #a0aec0;
  }
}

@media screen and (max-width: 768px) {
  body {
      padding: 0;
  }

  .container {
      width: 100vw;
      max-width: 100vw;
      height: 100vh;
      border-radius: 0;
      padding: 0;
  }

  .card {
      padding: 1rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      border-radius: 0;
  }

  h1 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
  }

  #registration {
      flex: 1;
      display: flex;
      flex-direction: column;
  }

  #chatInterface {
      display: none;
      flex: 1;
      flex-direction: column;
      overflow: hidden;
  }

  .chat-container {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 0.5rem;
      -webkit-overflow-scrolling: touch;
  }

  .message {
      max-width: 90%;
      font-size: 0.9rem;
  }

  .input-area {
      position: sticky;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: var(--color-card);
      padding: 0.5rem;
      z-index: 10;
  }

  .input-area input {
      font-size: 16px;
      padding: 0.5rem;
  }

  .input-area .shiny-cta {
      padding: 0.5rem 0.75rem;
      font-size: 0.8rem;
  }

  .sound-wave, .loading-animation {
      left: 0.5rem;
      right: 0.5rem;
      bottom: 0.5rem;
      height: calc(100% - 1rem);
  }

  .voice-input, .input-area .shiny-cta {
      z-index: 2;
  }

  .disclaimer,
  .contact-info {
      font-size: 0.6rem;
      padding: 0.25rem;
  }

  .mobile-footer {
      margin-top: auto;
  }
}